<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- External CSS -->
    <link rel="stylesheet" href="styles.css">

    <!-- Axios CDN-->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- Vue.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>

    <script>(g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})
                ({key: "AIzaSyAaxersdl9GsV0071TjsJCPE1b9e2KZ_yE", v: "weekly"});</script>
</head>
<body>
    <div id = "locations">
        <div class="container">

            <!--Navbar-->
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                        <div class="navbar-nav">
                            <a class="nav-link" href="index.html">Home</a>
                            <a class="nav-link" href="products.html">Products</a>
                            <a class="nav-link active" aria-current="page" href="locations.html">Locations</a>
                            <a class="nav-link" href="about.html">About Us</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>

        <p>Vending Machine Locations in Singapore</p>
        <div id="map"></div>

    </div>

    <script>
        // Initialize and add the map
        let map;

        async function initMap() {
            const { Map } = await google.maps.importLibrary("maps");
            const { AdvancedMarkerElement } = await google.maps.importLibrary("marker");
        
            // default: The location of SIS, SMU
            var lat = parseFloat(document.getElementById("lat").value);
            var lng = parseFloat(document.getElementById("lng").value);
            // var uluru = {lat: -25.344, lng: 131.036};
            var loc = {lat: lat, lng: lng};

            // The map, centered at SIS, SMU
            // var map = new google.maps.Map(
            //     // play with the zoom value to zoom in or out
            //     document.getElementById('map'), {zoom: 14, center: loc});
            map = new Map(document.getElementById("map"), {zoom: 14,center: loc, mapId: "Ex3"});

            // The marker, positioned at SIS, SMU
            // var marker = new google.maps.Marker({position: loc, map: map});
            const marker = new AdvancedMarkerElement({
            map: map,position: loc});
        }

        initMap();
    </script>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- External JavaScript -->
    <script src = script.js></script>
</body>
</html>